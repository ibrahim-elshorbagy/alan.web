(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function n(e,n,a){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function a(t){var e=(JSON.parse(localStorage.getItem("cart"))||{})["store_".concat(t)]||{},n=Object.values(e).filter((function(t){return t&&t.id})).length,a=n>0?n:0;if(0==a){var o=$("#cartItems");o.html("");var c=$("#totalDetails");c.html("");var r=$("#cartItemsCloth");r.html(""),o.html('\n              <tr>\n           <td colspan="5">\n            <div class="d-flex py-3 justify-content-center align-items-center w-100" >\n                    <h4 class="fs-18  text-muted mb-0">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n                </div>\n           </td>\n       </tr>\n        ")),r.html('\n       <tr>\n           <td colspan="5">\n            <div class="d-flex py-3 justify-content-center align-items-center w-100" >\n                    <h4 class="fs-18  text-muted mb-0">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n                </div>\n           </td>\n       </tr>\n        ")),c.html('\n            <div class="text-center py-3 w-100">\n                <h4 class="fs-18 text-muted">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n            </div>\n        ")),$(".order-btn").prop("disabled",!0)}else $(".order-btn").prop("disabled",!1);$(".product-count-badge").text(a)}document.addEventListener("DOMContentLoaded",(function(){var t=$("#whatsappStoreId").val();!function(){var t=document.querySelector("#phoneNumber"),e=document.querySelector("#prefix_code");if(t){var n=window.intlTelInput(t,{initialCountry:defaultCountryCodeValue,preferredCountries:["us","gb","in"],separateDialCode:!0});t.addEventListener("countrychange",(function(){var t=n.getSelectedCountryData();e.value=t.dialCode}))}}(),Lang.setLocale(lang),a(t)})),listenClick(".addToCartBtn",(function(o){o.preventDefault();var c=$(this),r=c.html();c.html(" âœ“ ").addClass("animate-btn"),c.prop("disabled",!0),setTimeout((function(){c.removeClass("animate-btn"),c.prop("disabled",!1),c.html(r)}),2e3);var s=$("#whatsappStoreId").val(),i=($(this).attr("data-id"),$(this).closest(".item-card, .product-card, .details, .product-detail-content, .product-box-section")),l=i.find(".selling_price").text().trim(),d="",u="",p=l.match(/^[^\d]+/);if(p)d=p[0],u=l.slice(d.length).trim();else{var g=l.match(/[^\d]+$/);g?(d=g[0],u=l.slice(0,-d.length).trim()):u=l}!function(o,c){var r=JSON.parse(localStorage.getItem("cart"))||{},s=templateName;r["store_".concat(o)]||(r["store_".concat(o)]={grand_total:0});var i=r["store_".concat(o)];if(i[c.id]&&i[c.id].qty>=c.available_stock)return null!=s&&"travel"===s?void displayErrorMessage(Lang.get("js.no_more_quantity_package")):void displayErrorMessage(Lang.get("js.no_more_quantity"));null!=s&&"travel"===s?displaySuccessMessage(Lang.get("js.package_added_to_cart")):displaySuccessMessage(Lang.get("js.product_added_to_cart"));i[c.id]?(i[c.id].qty+=1,i[c.id].total_price=i[c.id].price*i[c.id].qty):i[c.id]=function(t){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}({},c);i.grand_total=Object.values(i).filter((function(e){return"object"===t(e)})).reduce((function(t,e){return t+Number(e.total_price)}),0),localStorage.setItem("cart",JSON.stringify(r)),a(o)}(s,{id:$(this).data("id"),name:i.find(".product-name").text().trim(),available_stock:i.find(".available-stock").val(),image_url:i.find(".product-image").attr("src")||i.find(".product-image").val(),currency_icon:d,category_name:i.find(".product-category").text().trim()||i.find(".product-category").val(),qty:1,price:u,total_price:u})})),listenClick("#addToCartViewBtn",(function(){var t,e=$("#whatsappStoreId").val(),n=(JSON.parse(localStorage.getItem("cart"))||{})["store_".concat(e)]||{},a=null!==(t=null==n?void 0:n.grand_total)&&void 0!==t?t:0,o=Object.values(n).filter((function(t){return t&&null!=t.id})),c=$("#cartItems");c.html("");var r=Lang.getLocale(),s="ar"==r||"fa"==r?"rtl":"",i=$("#totalDetails");i.html("");var l=$("#cartItemsCloth");l.html(""),0===o.length?(c.html('\n              <tr>\n           <td colspan="5">\n            <div class="d-flex py-3 justify-content-center align-items-center w-100" >\n                    <h4 class="fs-18  text-muted mb-0">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n                </div>\n           </td>\n       </tr>\n        ")),l.html('\n       <tr>\n           <td colspan="5">\n            <div class="d-flex py-3 justify-content-center align-items-center w-100" >\n                    <h4 class="fs-18  text-muted mb-0">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n                </div>\n           </td>\n       </tr>\n        ")),i.html('\n            <div class="text-center py-3 w-100">\n                <h4 class="fs-18 text-muted">'.concat(Lang.get("js.item_not_addded_to_cart"),"</h4>\n            </div>\n        "))):$.each(o,(function(t,e){c.append('\n            <tr class="'.concat(s,'">\n                <td class="fw-6 fs-14">\n                    <div class="d-flex gap-lg-4 gap-3 align-items-center">\n                        <div class="product-img">\n                            <img  src="').concat(e.image_url,'" alt="product" style="width: 50px ; height: 50px;" class=" object-fit-cover rounded"  loading="lazy" />\n                        </div>\n                        <div>\n                            <h5 class="fs-18 fw-6 mb-0">').concat(e.name,'</h5>\n                            <p class="mb-0 fs-14">').concat(e.category_name,'</p>\n                        </div>\n                    </div>\n                </td>\n                <td class="fw-6 fs-14">').concat(e.currency_icon," ").concat(e.price,'</td>\n                <td class="text-center">\n                    <div class="btn-group gap-1 justify-content-center">\n                        <button type="button" class="btn minus-btn" data-id="').concat(e.id,'">-</button>\n                        <button type="button" class="btn count-btn bg-white" id="qty_').concat(e.id,'">').concat(e.qty,'</button>\n                        <button type="button" class="btn plus-btn" data-id="').concat(e.id,'">+</button>\n                    </div>\n                </td>\n                <td class="fw-6 fs-14 text-end" id="total_').concat(e.id,'">').concat(e.currency_icon," ").concat(e.total_price,'</td>\n                 <td class="text-center">\n                <button type="button" class="btn delete-btn" data-id="').concat(e.id,'" style="padding:4px 8px;">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256">\n                              <g fill="#f00808" fill-rule="nonzero">\n                    <g transform="scale(8.53333,8.53333)">\n                 <path d="M14.98438,2.48633c-0.55152,0.00862 -0.99193,0.46214 -0.98437,1.01367v0.5h-5.5c-0.26757,-0.00363 -0.52543,0.10012 -0.71593,0.28805c-0.1905,0.18793 -0.29774,0.44436 -0.29774,0.71195h-1.48633c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h18c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-1.48633c0,-0.26759 -0.10724,-0.52403 -0.29774,-0.71195c-0.1905,-0.18793 -0.44836,-0.29168 -0.71593,-0.28805h-5.5v-0.5c0.0037,-0.2703 -0.10218,-0.53059 -0.29351,-0.72155c-0.19133,-0.19097 -0.45182,-0.29634 -0.72212,-0.29212zM6,9l1.79297,15.23438c0.118,1.007 0.97037,1.76563 1.98438,1.76563h10.44531c1.014,0 1.86538,-0.75862 1.98438,-1.76562l1.79297,-15.23437z"></path>\n                     </g>\n                 </g>\n                     </svg>\n                </button>\n\n                </td>\n            </tr>\n        ')),l.append('\n <tr>\n   <td>\n      <div class="product-card-box d-flex align-items-center gap-20">\n         <div class="product-img">\n            <img src="'.concat(e.image_url,'" alt="images"\n               class="h-100 w-100 object-fit-cover" loading="lazy" />\n         </div>\n         <div>\n            <p class="fs-18 fw-5 mb-1 restaurant-white">').concat(e.name,'</p>\n            <p class="fs-14 text-gray-200 fw-5 mb-0 restaurant-white">').concat(e.category_name,'</p>\n\n         </div>\n      </div>\n   </td>\n   <td>\n      <div class="d-flex count-btn w-100 mx-auto align-items-center">\n         <button type="button" class="btn minus-btn count-modal-btn restaurant-white home-decor-white-bg"  data-id="').concat(e.id,'">-</button>\n         <p class="fs-14 fw-5 mb-0 text-black w-100 text-center restaurant-white home-decor-white home-decor-padding" id="qty_').concat(e.id,'">').concat(e.qty,'</p>\n         <button type="button" class="btn plus-btn count-modal-btn restaurant-white home-decor-white-bg" data-id="').concat(e.id,'">+</button>\n      </div>\n   </td>\n\n    <td class="fs-16 fw-5 text-center text-nowrap restaurant-white">\n      ').concat(e.currency_icon," ").concat(e.price,'\n   </td>\n\n   <td class="text-center">\n      <button type="button" class="btn delete-btn" data-id="').concat(e.id,'" style="padding:4px 8px;">\n         <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 256 256">\n            <g fill="#f00808" fill-rule="nonzero">\n               <g transform="scale(8.53333,8.53333)">\n                  <path d="M14.98438,2.48633c-0.55152,0.00862 -0.99193,0.46214 -0.98437,1.01367v0.5h-5.5c-0.26757,-0.00363 -0.52543,0.10012 -0.71593,0.28805c-0.1905,0.18793 -0.29774,0.44436 -0.29774,0.71195h-1.48633c-0.36064,-0.0051 -0.69608,0.18438 -0.87789,0.49587c-0.18181,0.3115 -0.18181,0.69676 0,1.00825c0.18181,0.3115 0.51725,0.50097 0.87789,0.49587h18c0.36064,0.0051 0.69608,-0.18438 0.87789,-0.49587c0.18181,-0.3115 0.18181,-0.69676 0,-1.00825c-0.18181,-0.3115 -0.51725,-0.50097 -0.87789,-0.49587h-1.48633c0,-0.26759 -0.10724,-0.52403 -0.29774,-0.71195c-0.1905,-0.18793 -0.44836,-0.29168 -0.71593,-0.28805h-5.5v-0.5c0.0037,-0.2703 -0.10218,-0.53059 -0.29351,-0.72155c-0.19133,-0.19097 -0.45182,-0.29634 -0.72212,-0.29212zM6,9l1.79297,15.23438c0.118,1.007 0.97037,1.76563 1.98438,1.76563h10.44531c1.014,0 1.86538,-0.75862 1.98438,-1.76562l1.79297,-15.23437z"></path>\n               </g>\n            </g>\n         </svg>\n      </button>\n   </td>\n</tr>\n            ')),i.append('\n            <div class="d-flex justify-content-between total-details align-items-center gap-2 my-3" id="product_'.concat(e.id,'">\n                                        <p class="fs-16 fw-5 text-black mb-0 restaurant-white">').concat(e.name,'</p>\n                                        <p class="fs-16 fw-5 text-black mb-0 restaurant-white text-nowrap">').concat(e.currency_icon,' <span id="product_cart_').concat(e.id,'">').concat(e.total_price,"</span></p>\n\n                                    </div>\n            "))})),$("#grandTotal").text("".concat(a)),$("#cartModal").modal("show")})),listenClick(".delete-btn",(function(){var e=$("#whatsappStoreId").val(),n=$(this).attr("data-id");$("#product_"+n).remove();var o=templateName;null!=o&&"travel"===o?displaySuccessMessage(Lang.get("js.package_deleted_from_cart")):displaySuccessMessage(Lang.get("js.product_deleted_from_cart"));var c,r,s=JSON.parse(localStorage.getItem("cart"))||{};s["store_".concat(e)]&&s["store_".concat(e)][n]&&(delete s["store_".concat(e)][n],s["store_".concat(e)].grand_total=Object.values(s["store_".concat(e)]).filter((function(e){return"object"===t(e)})).reduce((function(t,e){return t+Number(e.total_price)}),0),1===Object.keys(s["store_".concat(e)]).length&&delete s["store_".concat(e)],localStorage.setItem("cart",JSON.stringify(s)),$(this).closest("tr").remove(),a(e),$("#grandTotal").text(" ".concat(null!==(c=null===(r=s["store_".concat(e)])||void 0===r?void 0:r.grand_total)&&void 0!==c?c:0)))})),listenClick(".plus-btn",(function(){var e=$("#whatsappStoreId").val(),n=$(this).attr("data-id"),o=templateName,c=JSON.parse(localStorage.getItem("cart"))||{},r=c["store_".concat(e)];if(r[n].qty>=r[n].available_stock)return null!=o&&"travel"===o?void displayErrorMessage(Lang.get("js.no_more_quantity_package")):void displayErrorMessage(Lang.get("js.no_more_quantity"));r&&r[n]&&(r[n].qty+=1,r[n].total_price=r[n].qty*r[n].price,r.grand_total=Object.values(r).filter((function(e){return"object"===t(e)})).reduce((function(t,e){return t+Number(e.total_price)}),0),localStorage.setItem("cart",JSON.stringify(c)),a(e),$("#qty_".concat(n)).text(r[n].qty),$("#total_".concat(n)).text("".concat(r[n].currency_icon," ").concat(r[n].total_price)),$("#product_cart_"+n).text(r[n].total_price),$("#grandTotal").text("".concat(r.grand_total)))})),listenClick(".minus-btn",(function(){var e=$("#whatsappStoreId").val(),n=$(this).attr("data-id"),o=JSON.parse(localStorage.getItem("cart"))||{},c=o["store_".concat(e)];if(c&&c[n]){if(1===c[n].qty)return;c[n].qty-=1,c[n].total_price=c[n].qty*c[n].price,c.grand_total=Object.values(c).filter((function(e){return"object"===t(e)})).reduce((function(t,e){return t+Number(e.total_price)}),0),localStorage.setItem("cart",JSON.stringify(o)),a(e),$("#qty_".concat(n)).text(c[n].qty),$("#total_".concat(n)).text("".concat(c[n].currency_icon," ").concat(c[n].total_price)),$("#product_cart_"+n).text(c[n].total_price),$("#grandTotal").text("".concat(c.grand_total))}})),listenSubmit("#orderForm",(function(e){e.preventDefault(),$(this).find(".btn").prop("disabled",!0);var n=$("#whatsappStoreId").val(),o=(JSON.parse(localStorage.getItem("cart"))||{})["store_".concat(n)],c=(null==o?void 0:o.grand_total)||0,r=[];o&&(r=Object.values(o).filter((function(e){return"object"===t(e)})).filter((function(t){return t&&null!=t.id})).map((function(t){return{id:t.id,price:t.price,qty:t.qty,total_price:t.total_price}})));var s=$(this).serialize()+"&wp_store_id="+n+"&grand_total="+c+"&products="+encodeURIComponent(JSON.stringify(r))+"&language="+lang,i=$("#productBuyUrl").val();setTimeout((function(){$.ajax({url:i,type:"POST",data:s,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function(t){t.success&&(!function(t){var e=$("#baseUrl").val(),n=$("#storeAlias").val(),a=$("#wpRegionCode").val(),o=$("#whatsappNo").val(),c=Lang.get("js.customer_details")+":\n";c+="------------------------------\n",c+=Lang.get("js.name")+": ".concat(t.name,"\n"),c+=Lang.get("js.phone")+": +".concat(t.region_code," ").concat(t.phone,"\n"),c+=Lang.get("js.address")+": ".concat(t.address,"\n\n"),c+=Lang.get("js.order_id")+": ".concat(t.order_id,"\n"),c+="------------------------------\n",c+=Lang.get("js.product_details")+":\n",c+="------------------------------\n",t.products.forEach((function(t,a){var o="".concat(e,"/whatsapp-store/").concat(n,"/").concat(t.product_id,"/product-details");c+="".concat(a+1,".\n"),c+=Lang.get("js.product_name")+": ".concat(t.product?t.product.name:"Unknown","\n"),c+=Lang.get("js.product_url")+" : ".concat(o,"\n"),c+=Lang.get("js.price")+" : ".concat(t.product.currency.currency_icon," ").concat(t.price,"\n"),c+=Lang.get("js.quantity")+" : ".concat(t.qty,"\n"),c+=Lang.get("js.total_price")+" : ".concat(t.product.currency.currency_icon," ").concat(t.total_price,"\n"),c+="------------------------------\n"})),c+="\n".concat(Lang.get("js.grand_total"),": ").concat(t.grand_total,"\n");var r=encodeURIComponent(c),s="+".concat(a).concat(o),i="https://wa.me/".concat(s,"?text=").concat(r);window.open(i,"_blank")}(t.data),localStorage.removeItem("cart"),a(n),displaySuccessMessage(Lang.get("js.order_placed")),setTimeout((function(){window.location.reload()}),3e3))},error:function(t){$(this).find(".btn").prop("disabled",!1),displayErrorMessage(t.responseJSON.message),setTimeout((function(){window.location.reload()}),4e3)}})}),3e3)})),listenClick("#languageName",(function(){var t=$(this).attr("data-name");$.ajax({url:languageChange+"/"+t+"/"+vcardAlias,type:"GET",success:function(t){location.reload()},error:function(t){alert(t.responseJSON.message)}})})),window.displaySuccessMessage=function(t){toastr.options={positionClass:"toast-top-right",progressBar:!0,closeButton:!0,timeOut:5e3,extendedTimeOut:2e3},toastr.success(t,Lang.get("js.successful"))},window.displayErrorMessage=function(t){toastr.options={positionClass:"toast-top-right",progressBar:!0,closeButton:!0,timeOut:5e3,extendedTimeOut:2e3},toastr.error(t,Lang.get("js.error"))},listenClick(".drop-item-select",(function(){$(".drop-item-select").removeClass("active"),$(this).addClass("active")})),listenClick(".custom-select-option",(function(){$(".custom-select-option").removeClass("active"),$(this).addClass("active")})),listenClick(".pwa-close",(function(){$(".pwa-support").addClass("d-none")})),listenSubmit("#newsLetterForm",(function(t){t.preventDefault(),$("#newsLetterModal").prop("disabled",!0),$.ajax({url:emailSubscriptionUrl,type:"POST",data:$(this).serialize(),success:function(t){if(t.success){displaySuccessMessage(t.message),$("#emailSubscription").val(""),$("#newsLetterModal").modal("hide"),$("#newsLetterModal").addClass("d-none");var e=new Date,n=new Date(e.getTime()+31536e7);document.cookie="newsletter_popup=2; expires="+n.toUTCString()}},error:function(t){displayErrorMessage(t.responseJSON.message)}})})),window.onload=function(){var t=window.location.href;$.ajax({url:getCookieUrl,type:"GET",data:{url:t},success:function(t){t.success&&setTimeout((function(){document.cookie.includes("newsletter_popup")?$("#newsLetterModal").modal("hide"):$("#newsLetterModal").removeClass("d-none").modal("show")}),t.data)},error:function(t){displayErrorMessage(t.responseJSON.message)}})},listenClick("#closeNewsLetterModal",(function(){$("#newsLetterModal").modal("hide")})),listenHiddenBsModal("#newsLetterModal",(function(){var t=new Date,e=new Date(t.getTime()+6048e5);document.cookie="newsletter_popup=2; expires="+e.toUTCString()})),listenClick(".bars-btn",(function(){$(".sub-btn").fadeToggle();var t=$(".sub-btn");t.hasClass("d-none")&&t.removeClass("d-none")})),listenClick(".bars-btn",(function(){navigator.platform;$("#videobtn").removeClass("d-none")})),listenClick(".whatsapp-store-share",(function(){$("#whatsapp-store-shareModel").modal("show")})),listenClick(".share",(function(){$("#whatsapp-store-shareModel").modal("hide")})),listen("click",".whatsapp-store-qr-code-btn",(function(t){t.preventDefault();var e=$(this).siblings(".qr-code-image").first().find("svg")[0];if(!e)return console.error("No QR code found for this button."),void alert("QR code not found. Please try again.");var n=(new XMLSerializer).serializeToString(e),a=new Blob([n],{type:"image/svg+xml;charset=utf-8"}),o=URL.createObjectURL(a),c=new Image;c.src=o,c.onload=function(){var t=document.createElement("canvas");t.width=c.width,t.height=c.height;var e=t.getContext("2d");e.fillStyle="white",e.fillRect(0,0,t.width,t.height),e.drawImage(c,0,0);var n=t.toDataURL("image/png"),a=document.createElement("a");a.href=n,a.download="whatsapp_store_qr_code.png",a.click(),URL.revokeObjectURL(o)},c.onerror=function(){console.error("Error loading QR code image"),alert("Error processing QR code. Please try again."),URL.revokeObjectURL(o)}})),listenClick(".copy-whatsapp-store-clipboard",(function(){var t=$(this).data("id"),e=$("<input>");$("#whatsapp-store-shareModel .social-link-modal").append(e),e.val($("#whatsappStoreUrlCopy"+t).text()).select(),document.execCommand("copy"),e.remove(),displaySuccessMessage(Lang.get("js.copied_successfully"))}))})();